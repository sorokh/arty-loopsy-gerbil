<div class="lets-message" ng-hide="message.$read">
    <a ui-sref="lets.profile({key: message.author.$$expanded.key})">
        <img alt="image" class="img-circle pull-left" ng-src="{{baseUrl}}{{message.author.href}}/profile.png" width="40" style="margin-right: 8px">
    </a>

    <div class="media-body ">
        <a ui-sref="lets.profile({key: message.author.$$expanded.key})"><strong>({{message.author.$$expanded.name}})</strong></a> <b>{{message.title}}</b> - {{message.description}}
        <small class="pull-right text-navy">1 minuut geleden</small>
    </div>

    <div class="lets-message-responses">
        <small class="text-muted">
            <div ng-repeat="response in message.$$reactions">
                <img class="img-circle" src="{{baseUrl}}{{response.$$expanded.author.href}}/profile.png" width="30" style="margin-right: 8px; margin-bottom: 4px;"> <i>{{response.$$expanded.author.$$expanded.name}}</i> : {{response.$$expanded.description}}
            </div>

            <div ng-show="message.$$enteringResponse" class="text-right">
                <textarea class="form-control" placeholder="Geef je reactie in..."></textarea>
                <div style="margin-top: 4px">
                    <a class="btn btn-primary btn-xs" ng-click="message.$$enteringResponse = false">Sturen</a>
                    <a class="btn btn-primary btn-xs" ng-click="message.$$enteringResponse = false">Annuleren</a>
                </div>
            </div>
            <div ng-show="message.$$enteringTransaction" class="text-right">
                    Ik stuur <input type="number" size="3" ng-model="message.$$newTransactionAmount"></input> punt(en) naar {{message.author.$$expanded.name}}.
                    <a class="btn btn-primary btn-xs" ng-click="createTransaction(message)">Sturen</a>
                    <a class="btn btn-primary btn-xs" ng-click="message.$$enteringTransaction = false">Annuleren</a>
            </div>
            <div style="padding-top: 5px"></div>
            <div class="text-right">
                <a ng-click="message.$$enteringResponse = true; message.$$enteringTransaction = false;" class="btn btn-primary btn-sm" title="Publiek reageren"><i class="fa fa-bullhorn"></i></a>
                <!--<a ng-click="message.$$enteringResponse = true; message.$$enteringTransaction = false;" class="btn btn-primary btn-sm"><i class="fa fa-comment" title="PrivÃ© Reageren"></i></a>-->
                <a ng-show="message.author.href != me.$$meta.permalink" ng-click="message.$$enteringTransaction = true; message.$$enteringResponse = false;" class="btn btn-primary btn-sm"><i class="fa fa-thumbs-up" title="Waarderen"></i></a>
                <a ng-show="message.author.href == me.$$meta.permalink" class="btn btn-primary btn-sm" ng-click="delete(message)"><i class="fa fa-trash" title="Verwijderen"></i></a>
            </div>
        </small>
    </div>
</div>
